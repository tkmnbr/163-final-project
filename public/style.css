/*******************************************************************
* Dashboard background and centering
* 
* The body covers the full viewport height with a gradient background.
********************************************************************/
body {
  font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
  background: linear-gradient(135deg, #050505 0%, #070011 100%);
  color: hsl(289, 93%, 49%);
  min-height: 1000vh;
  margin: 0;
  padding: 0;
}

/*******************************************************************
* Dashboard header styling
* The header spans the full viewport width with bold, colored text.
********************************************************************/
.dashboard-header {
  background: #a30b75;
  color: #ffffff;
  font-size: 2.1rem;
  font-weight: bold;
  letter-spacing: 0.03em;
  padding: 0.8em 2em 0.8em 2em;
  border-radius: 18px 18px 0 0; /* rounded top corners like a tab */
  margin: 0 auto 2em auto;
  text-align: center;
  width: fit-content; /* Makes it look like a tab, not full width */
  box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.3), 0 6px 16px rgba(244, 11, 178, 0.4);
  position: relative;
  top: 2px;
  z-index: 10;
  border: 2px solid #de08b4;
}
.dashboard-header:hover {
  background: #be29aa;
  cursor: pointer;
}

/***************************************************************************************
* Dashboard container for true centering
* Uses flexbox to center; container itself is larger than viewport width.
******************************************************************************************/
.dashboard-container {
  min-height: 1000vh;
  width: 2000vw;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center; /* vertical centering */
  position: relative;
  box-shadow: 0 14px 10px rgba(11, 31, 249, 0.16); /* shadow for entire dashboard */
}
/*******************************************************************
* Martini Glass Structure: Only one scene visible, smooth fade, no slipping
* 
* Each .scene is hidden by default and fades in when .active.
********************************************************************/
.scene {
  display: auto;
  opacity: 0;
  transition: opacity 0.5s cubic-bezier(.4,0,.2,1);
  background: #1b1b1f;
  border-radius: 18px;
  box-shadow: 0 8px 32px rgba(51, 1, 63, 0.22), 0 2px 12px rgba(229, 149, 149, 0.12);
  border: 1.5px solid #6de830;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

/* When a scene is active, fade it in and bring it to the front */
.scene.active {
  display: flex;
  opacity: 1;
  border-color: #067779;
  z-index: 18;
}

/*******************************************************************
* Scene content styling
* 
* Large, colored headings and centered paragraph text.
********************************************************************/
.scene h2 {
  color: #fde109dc;
  font-size: 2rem;
  margin-bottom: 4%;
  text-align: center;
}
.scene p {
  color: #06eaf2fb;
  text-align: center;
  margin-bottom: 3%;
  font-size: 1.1em;
}

/*******************************************************************
* Base Chart SVG styling for Scenes 1–3
* 
* Each SVG is centered within its scene, has a dark background,
* and is constrained to a maximum width of 600px.
********************************************************************/
.scene svg {
  background: #000208;
  border-radius: 17px;
  box-shadow: 0 0 20px 10px rgba(150, 251, 152, 0.131);
  margin: 1.2em auto 0 auto;
  display: block;
  width: 100%;
  max-width: 100%; /* Original fixed max */
  height: auto;    
  padding: 1em;
  overflow: visible; /* Allow axis labels to overflow if needed */
}

/*******************************************************************
* Scene 4 (Explore Mode) overrides
* 
* Expands the Scene 4 container to occupy full viewport width/height,
* and makes its SVG much larger and full-width.
********************************************************************/



/* Override Scene 4 container to full viewport width/height */
#scene4.scene.active {
  /* Disable default width constraints */
  max-width: 100vw !important;
  min-width: 100vw !important;
  /* Increase padding inside container */
  padding: 2rem !important;
  box-sizing: border-box;
  /* Make container as tall as viewport */
  min-height: 100vh !important;
  /* Remove margin that centers generic scenes */
  margin: 0 !important;
}

/* Expand only the SVG inside Scene 4 to nearly full width/height */
/*#scene4 svg {
 ?8 width: 87vw;       /* Cover 95% of viewport width */
 /* max-width: none;   /* Remove 600px limit */
 /* height: 60vh;      /* Use 70% of viewport height */
 /* padding: 0.5em;
  overflow: visible; /* Ensure axis labels are not clipped */
/*}


/*********************************************************************
* Scene 2 (State Comparison) overrides to expand the canvas
* 
* - Make the Scene 2 container as wide as the viewport (or close to it)
* - Make the Scene 2 SVG fill most of that width and a good portion of height
* - Ensure axis labels / lines do not overflow
*********************************************************************/
#scene2 .axis text,
#scene2 .dimension text,   
#scene2 .background text,  
#scene2 .foreground text 
{
  fill: #13c1f1 !important;
}

#scene2 .axis path,
#scene2 .axis line {
  stroke: #ffffff !important;
}

#scene2 .legend text {
  fill: #ffffff !important;
}

#scene2 text {
  fill: #ffffff !important;
}

#scene2 svg {
  display: block;       
  margin-left: auto;   
  margin-right: auto;
}


/* 1) Override the Scene2 container to span almost full viewport width 
#scene2.scene.active {
  /* Disable the default max-width:700px limitation */
 /* max-width: 95vw !important;
  min-width: 95vw !important;
  /* Increase padding so contents have breathing room */
/*  padding: 2rem !important;
  box-sizing: border-box;
  /* Make container tall enough for the wide SVG */
/*  min-height: 90vh !important;
  /* Remove default auto margin to avoid centering shrinkage */
 /* margin: 0 !important;
}
 */


 /* Scenes 1,3,4for original sizing */
#scene1.scene{
  max-width: 1550px;
  min-width: 1250px;
  min-height: 540px;
  max-height: 540;
}
/* Expand only the SVG inside Scene1 */
#scene1 svg {
  width: 60vw;       /* Cover 90% of the viewport width */
  max-width: 60;   /* Cancel any previous 600px limit */
  height: 45vh;      /* Use 70% of viewport height */
  padding: 1.2em;
  overflow: visible; /* Let axis labels remain fully visible */
}

#scene2.scene{
  max-width: 1550px;
  min-width: 1250px;
  min-height: 540px;
}
/*Expand only the SVG inside Scene2 */
#scene2 svg {
  width: 100%;
  max-width: 900px;
  height: auto;
  padding: 1em;
  display: block;
  margin: 0 auto;
  box-sizing: border-box;
  overflow: visible;
}


#scene3.scene{
 max-width: 1550px;
  min-width: 1250px;
  max-height: 560;
  min-height: 540px;
}
/* Expand only the SVG inside Scene3 */
#scene3 svg {
  width: 50;       /* Cover 70% of the viewport width */
  max-width: 50;   /* Cancel any previous 600px limit */
  height: 40vh;      /* Use 50% of viewport height */
  padding: 1.2em;
  overflow: visible; /* Let axis labels remain fully visible */
}

#scene4.scene {
 max-width: 1550px;
  min-width: 1255px;
  min-height: 560px;
}
/*Expand only the SVG inside Scene4 */
#scene4 svg {
  width: 65vw;       /* Cover 65% of the viewport width */
  max-width: 80;   /* Cancel any previous 600px limit */
  height: 50vh;      /* Use 50% of viewport height */
  padding: 1.2em;
  overflow: visible; /* Let axis labels remain fully visible */
}

/*********************************************************************
* Chart element style adjustments
* 
* - Thinner stroke for parallel‐coordinate lines  
* - Let each path use a distinct state color
********************************************************************/
.parallel-line {
  stroke-width: 0.7px;  /* Make lines thinner in Scene2 */
  opacity: 0.7;
  transition: opacity 0.2s, stroke-width 0.2s;
}
.parallel-line:hover {
  opacity: 1;
  stroke-width: 1.4px;  /* Slightly thicker on hover */
}

/* If you used a generic ".line" class before, you can override it here */
#scene2 .line {
  stroke-width: 0.7px !important;
  opacity: 0.7;
}
#scene2 .line:hover {
  stroke-width: 1.4px !important;
  opacity: 1 !important;
}



/*******************************************************************
* Controls, Inputs, and Chart Elements styling
* 
* Layout and styles for dropdowns, sliders, and custom chart classes.
********************************************************************/
#controls, .slider-wrapper {
  margin: 1.5em 0 0.5em 0;
  display: flex;
  flex-wrap: wrap;
  gap: 1.5em;
  align-items: center;
  justify-content: center;
}
.control-group label {
  font-size: 1em;
  color: #bafa08;
  margin-right: 0.2em;
}
select, input[type="range"] {
  font-size: 1em;
  padding: 0.3em 0.7em;
  border-radius: 6px;
  border: 2.1px solid #280387ac;
  background: #530389;
  color: #bcf905;
  transition: background 0.2s, border 0.2s;
}
select:hover, input[type="range"]:hover {
  background: #c8cb0a;
  border-color: #de0760;
}

/* Chart element styles */
.line {
  fill: none;
  stroke: #b92935;
  stroke-width: 10px;
}
.axis path,
.axis line {
  fill: none;
  stroke: #fcf7f7;
  shape-rendering: crispEdges;
}
.axis text {
  font-size: 14px;
  fill: #11eff7e8; /* Bright yellow for visibility */
}
.dot {
  fill: #16f9db;
  stroke: #cd2d2d;
  stroke-width: 2px;
}
.parallel-line {
  stroke-width: 2%;
  opacity: 0.8;
  transition: opacity 0.2s;
}
.parallel-line:hover {
  opacity: 1;
  stroke-width: 4px;
}
.node rect {
  fill-opacity: 0.90;
  stroke: #73e21f;
  stroke-width: 2px;
}
.node text {
  font-size: 16px;
  fill: #2c3e50;
  font-weight: bold;
}
.link {
  fill: none;
  stroke-opacity: 0.5;
  transition: stroke-opacity 0.2s;
}
.link:hover {
  stroke-opacity: 0.9;
}
.tooltip {
  position: fixed;
  background: #0b0268;
  color: #c4e108;
  padding: 0.7em 1em;
  border-radius: 20px;
  box-shadow: 0 2px 8px rgba(204, 16, 16, 0.12);
  pointer-events: none;
  font-size: 16px;
  z-index: 9999;       
  /* display: block;
  /* opacity: 0;*/
  transition: opacity 0.2s ease;
}

/*********************************************************************
* Per-chart legends and color brackets
* 
* Defines legend container and colored swatches for charts.
**********************************************************************/
.chart-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 1.2em;
  justify-content: center;
  align-items: center;
  margin: 0.8em 0 0.2em 0;
  font-size: 1.1em;
  background: #1c0950;
  border-radius: 10px;
  box-shadow: 0 0 10px 20px rgba(244, 240, 243, 0.717);
  padding: 0.5em 1.2em;
}
.legend-color {
  display: inline-block;
  width: 18px;
  height: 18px;
  border-radius: 4px;
  margin-right: 0.4em;
  vertical-align: middle;
  border: 2px solid #621a1a;
}
.line-color        { background: #b929aa; }
.dot-color         { background: #e67e22; }
.parallel-color    { background: #2980b9; }
.sankey-node-color { background: #f4f8fb; border: 2px solid #34495e; }
.sankey-link-color { 
  background: linear-gradient(90deg, #2980b9 50%, #34495e 100%);
  opacity: 0.5;
}
.explore-color     { background: #e83042; }

/*********************************************************************
* Responsive adjustments for smaller screens
* Tweak container, scene, and SVG sizes on narrow viewports.
**********************************************************************/
@media (max-width: 700px) {
  .dashboard-container {
    padding: 1rem 0.2rem;
    min-height: 400px;
    box-shadow: 0 20px 32px rgba(244, 243, 243, 0.18);
  }
  .scene {
    padding: 1.2rem 0.5rem;
    max-width: 99vw;
    min-height: 320px;
    box-shadow: 0 16px 40px rgba(248, 245, 245, 0.25), 0 2px 12px rgba(244, 237, 237, 0.12);
  }
  .scene svg {
    width: 98vw;
    height: 220px;
  }
  .dashboard-header {
    font-size: 1.1rem;
    padding: 0.7em 0.5em;
  }
}

/*********************************************************************
* Dashboard centering and anti-slip enhancement
* 
* Ensures main container fills the viewport and centers child elements.
********************************************************************/
main {
  min-height: 600px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* it is djustments to .scene when active/inactive */
.scene {
  margin: 0 !important;
  box-sizing: border-box;
  box-shadow: 0 0 20px 10px rgba(248, 195, 4, 0.354);
}
.scene:not(.active) {
  display: none !important;
  opacity: 0 !important;
  pointer-events: none !important;
}
.scene.active {
  display: flex !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 2rem auto !important; 
  max-width: 1500px;
  min-width: 600px;
  min-height: 800px;
  box-sizing: border-box;
}

/*********************************************************************
* Ensure html, body, and main elements fill the viewport
*********************************************************************/
html, body, main {
  height: 100%;
  min-height: 100vh;
}
main {
  width: 100vw;
  min-width: 100vw;
  min-height: 100vh;
}

/*********************************************************************
* Axis label styling for all SVG text
* 
* Make axis labels bold and yellow for better visibility.
*********************************************************************/
svg text {
  fill: #ffee05;
  font-size: 1.2em;
  font-weight: bold;
  margin: 1rem auto !important;
}
/* this is Tab-like heading styles */
.scene h2 {
  display: inline-block;
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border-bottom: none;
  margin-bottom: -1px;
  position: relative;
  z-index: 1;
}
/* This section is scene container to show a subtle tab panel */
.scene {
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  position: relative;
  z-index: 0;
}
/* Tab-like heading styles */
.scene h2 {
  display: inline-block;
  background-color: #e50ac8; /* Light gray tab */
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border: 2px solid #ccc;
  border-bottom: none;
  margin-bottom: -1px;
  position: relative;
  z-index: 1;
}

/* Optional: scene container to show a subtle tab panel */
.scene {
  border: 2px solid #ccc;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  background-color: white;
  position: relative;
  z-index: 0;
}
/* Tab-like heading styles */
.scene h2 {
  display: inline-block;
  background-color: #f0f0f0; /* Light gray tab */
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border: 2px solid #ccc;
  border-bottom: none;
  margin-bottom: -1px;
  position: relative;
  z-index: 1;
}

/* Optional: scene container to show a subtle tab panel */
.scene {
  border: 2px solid #ccc;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  background-color: white;
  position: relative;
  z-index: 0;
}
/* Tab-like heading styles */
.scene h2 {
  display: inline-block;
  background-color: #f0f0f0; /* Light gray tab */
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border: 2px solid #ccc;
  border-bottom: none;
  margin-bottom: -1px;
  position: relative;
  z-index: 1;
}

/* Optional: scene container to show a subtle tab panel */
.scene {
  border: 2px solid #ccc;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  background-color: white;
  position: relative;
  z-index: 0;
}
/* Tab-like heading styles */
.scene h2 {
  display: inline-block;
  background-color: #f0f0f0; /* Light gray tab */
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border: 2px solid #ccc;
  border-bottom: none;
  margin-bottom: -1px;
  position: relative;
  z-index: 1;
}

/* Optional: scene container to show a subtle tab panel */
.scene {
  border: 2px solid #ccc;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  background-color: white;
  position: relative;
  z-index: 0;
}

/* Tab-like heading styles */
.scene h2 {
  display: inline-block;
  background-color: #030143; /* Light gray tab */
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border: 1px solid #0ad6d6;
  border-bottom: none;
  margin-bottom: 2px;
  position: relative;
  z-index: 1;
}

/* Optional: scene container to show a subtle tab panel */
.scene {
  border: 2px solid #ffffff;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 5%;
  background-color: rgb(0, 0, 24);
  position: relative;
  z-index: 1;
}
.scene h2 {
  display: inline-block;
   background-color: #030143; /* Light gray tab */
  padding: 10px 20px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  font-size: 1.5em;
  border: 2px solid #0ad6d6;
  border-bottom: 2px solid #f0f0f0; /* Match the tab background color */
  margin-bottom: -1px;
  position: relative;
  z-index: 1;
}


#explore-parallel {
  width: 100%;
  height: 340px;
  overflow: visible;
}

#scene4 h2 {
  margin-top: 25rem;   
  margin-bottom: 1.5rem;
}



